<html>
	<head>
		<style>
canvas{
	z-index: 1;
	position: absolute;	
}
.container{
	max-width: 1000px;
    background: radial-gradient(circle, white 0%, rgb(222,222,222) 100%);
    box-shadow: 0 0 2px black;
    border-radius: 16px;
    margin: 16px auto;
    padding: 0px;
    overflow: auto;
}
		</style>		
	</head>
	<body>
		<div class="container">
			<canvas id='canvas' width=1000 height=500></canvas>	
			<img src="map.png">
		</div>
	</body>
</html>
<script>
			function sleep(ms) {
			 	return new Promise(resolve => setTimeout(resolve, ms));
			}
			var canvas = document.getElementById("canvas")
			var ctx = canvas.getContext("2d")
			ctx.fillStyle = "red"
			var start_time = new Date(2020,4,30,11,29);
			
			var iter_time = 3677000;
			var ax = 120;
			var ay = 130;
			var bx = 830;
			var by = 420;
			var timer = 0;
			var x = 0;
			var y = 0;


			async function loop(timestamp) {
			  var progress = timestamp - lastRender
				var timer = Date.now() - start_time;
				var pos = timer % iter_time;
				if (pos < iter_time / 3){
					x = ax;
					y = ay;
				} else if (pos < iter_time / 2){
					var i = (pos - iter_time/3)/(iter_time/6);
					x = ax + (bx-ax)*i;
					y = ay + (by-ay)*i;
				} else if (pos < 5 * iter_time / 6){
					x = bx;
					y = by;
				} else{
					var i = (pos - 5*iter_time/6)/(iter_time/6);
					x = bx - (bx-ax)*i;
					y = by - (by-ay)*i;
				}
				ctx.clearRect(0, 0, canvas.width, canvas.height)
  				ctx.beginPath();
				ctx.arc( x, y, 8,0,2*Math.PI)
			  	ctx.fill()
			  lastRender = timestamp
			  await sleep(100)
			  window.requestAnimationFrame(loop)
			}

			var lastRender = 0
			window.requestAnimationFrame(loop)
		</script>